!function(n){Array.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1});var a,l=n(document),c=n("head"),f=null,h={},o=0,s="id",p="px",g="JColResizer",r="JCLRFlex",d=parseInt,u=Math,w=0<navigator.userAgent.indexOf("Trident/4.0");try{a=sessionStorage}catch(t){}c.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer > tbody > tr > td, .JColResizer > tbody > tr > th{overflow:hidden}  .JPadding > tbody > tr > td, .JPadding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;  } .JCLRFlex{} .JCLRgrip.JCLRdisabledGrip .JColResizer{cursor:default; display:none;}</style>");var v=function(t){var e=t.attr(s);(t=h[e])&&t.is("table")&&(t.removeClass(g+" "+r).gc.remove(),delete h[e])},m=function(o){var t=o.find(">thead>tr:first>th,>thead>tr:first>td");t.length||(t=o.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td")),t=t.filter(":visible"),o.cg=o.find("col"),o.ln=t.length,o.p&&a&&a[o.id]&&C(o,t),t.each(function(t){var e=n(this),i=-1!=o.dc.indexOf(t),r=n(o.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);r.append(i?"":o.opt.gripInnerHtml).append('<div class="'+g+'"></div>'),t==o.ln-1&&(r.addClass("JCLRLastGrip"),o.f&&r.html("")),r.bind("touchstart mousedown",L),i?r.addClass("JCLRdisabledGrip"):r.removeClass("JCLRdisabledGrip").bind("touchstart mousedown",L),r.t=o,r.i=t,(r.c=e).w=e.width(),o.g.push(r),o.c.push(e),e.width(e.w).removeAttr("width"),r.data(g,{i:t,t:o.attr(s),last:t==o.ln-1})}),o.cg.removeAttr("width"),o.find("td, th").not(t).not("table th, table td").each(function(){n(this).removeAttr("width")}),o.f||o.removeAttr("width").addClass(r),b(o)},C=function(t,e){var i,r,o=0,s=0,d=[];if(e){if(t.cg.removeAttr("width"),t.opt.flush)return void(a[t.id]="");for(r=(i=a[t.id].split(";"))[t.ln+1],!t.f&&r&&(t.width(r*=1),t.opt.overflow&&(t.css("min-width",r+p),t.w=r));s<t.ln;s++)d.push(100*i[s]/i[t.ln]+"%"),e.eq(s).css("width",d[s]);for(s=0;s<t.ln;s++)t.cg.eq(s).css("width",d[s])}else{for(a[t.id]="";s<t.c.length;s++)i=t.c[s].width(),a[t.id]+=i+";",o+=i;a[t.id]+=o,t.f||(a[t.id]+=";"+t.width())}},b=function(t){t.gc.width(t.w);for(var e=0;e<t.ln;e++){var i=t.c[e];t.g[e].css({left:i.offset().left-t.offset().left+i.outerWidth(!1)+t.cs/2+p,height:t.opt.headerOnly?t.c[0].outerHeight(!1):t.outerHeight(!1)})}},x=function(t,e,i){var r=f.x-f.l,o=t.c[e],s=t.c[e+1],d=o.w+r,n=s.w-r;o.width(d+p),t.cg.eq(e).width(d+p),t.f?(s.width(n+p),t.cg.eq(e+1).width(n+p)):t.opt.overflow&&(t.css("min-width",t.w+r),t.css("width",t.w+r)),i&&(o.w=d,s.w=t.f?n:s.w)},R=function(t){var i=n.map(t.c,function(t){return t.width()});t.width(t.w=t.width()).removeClass(r),n.each(t.c,function(t,e){e.width(i[t]).w=i[t]}),t.addClass(r)},y=function(t){if(f){var e=f.t,i=t.originalEvent.touches,r=(i?i[0].pageX:t.pageX)-f.ox+f.l,o=e.opt.minWidth,s=f.i,d=1.5*e.cs+o+e.b,n=s==e.ln-1,a=s?e.g[s-1].position().left+e.cs+o:d,l=e.f?s==e.ln-1?e.w-d:e.g[s+1].position().left-e.cs-o:1/0;if(r=u.max(a,u.min(l,r)),f.x=r,f.css("left",r+p),n){var c=e.c[f.i];f.w=c.w+r-f.l}if(e.opt.liveDrag){n?(c.width(f.w),!e.f&&e.opt.overflow?(e.css("min-width",e.w+r-f.l),e.css("width",e.w+r-f.l)):e.w=e.width()):x(e,s),b(e);var h=e.opt.onDrag;h&&(t.currentTarget=e[0],h(t))}return!1}},J=function(t){if(l.unbind("touchend."+g+" mouseup."+g).unbind("touchmove."+g+" mousemove."+g),n("head :last-child").remove(),f){if(f.removeClass(f.t.opt.draggingClass),f.x-f.l!=0){var e=f.t,i=e.opt.onResize,r=f.i,o=r==e.ln-1,s=e.g[r].c;o?(s.width(f.w),s.w=f.w):x(e,r,!0),e.f||R(e),b(e),i&&(t.currentTarget=e[0],i(t)),e.p&&a&&C(e)}f=null}},L=function(t){var e=n(this).data(g),i=h[e.t],r=i.g[e.i],o=t.originalEvent.touches;if(r.ox=o?o[0].pageX:t.pageX,r.l=r.position().left,r.x=r.l,l.bind("touchmove."+g+" mousemove."+g,y).bind("touchend."+g+" mouseup."+g,J),c.append("<style type='text/css'>*{cursor:"+i.opt.dragCursor+"!important}</style>"),r.addClass(i.opt.draggingClass),f=r,i.c[e.i].l)for(var s,d=0;d<i.ln;d++)(s=i.c[d]).l=!1,s.w=s.width();return!1};n.fn.extend({colResizable:function(t){switch((t=n.extend({resizeMode:"fit",draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"col-resize",dragCursor:"col-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,onDrag:null,onResize:null},t)).fixed=!0,t.overflow=!1,t.resizeMode){case"flex":t.fixed=!1;break;case"overflow":t.fixed=!1,t.overflow=!0}return this.each(function(){!function(t,e){var i=n(t);if(i.opt=e,i.mode=e.resizeMode,i.dc=i.opt.disabledColumns,i.opt.removePadding&&i.addClass("JPadding"),i.opt.disable)return v(i);var r=i.id=i.attr(s)||g+o++;i.p=i.opt.postbackSafe,!i.is("table")||h[r]&&!i.opt.partialRefresh||("col-resize"!==i.opt.hoverCursor&&c.append("<style type='text/css'>.JCLRgrip .JColResizer:hover{cursor:"+i.opt.hoverCursor+"!important}</style>"),i.addClass(g).attr(s,r).before('<div class="JCLRgrips"/>'),i.g=[],i.c=[],i.w=i.width(),i.gc=i.prev(),i.f=i.opt.fixed,e.marginLeft&&i.gc.css("marginLeft",e.marginLeft),e.marginRight&&i.gc.css("marginRight",e.marginRight),i.cs=d(w?t.cellSpacing||t.currentStyle.borderSpacing:i.css("border-spacing"))||2,i.b=d(w?t.border||t.currentStyle.borderLeftWidth:i.css("border-left-width"))||1,h[r]=i,m(i))}(this,t)})}})}(jQuery);